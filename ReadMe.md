## Запуск приложения
- Клонировать репозиторий
`git clone git@github.com:Tantal25/hatiko_test_case.git`

- Установить и активировать виртуальное окружение
`python -m venv venv`
Windows: `source venv/Scripts/activate`
Linux: `source venv/bin/activate`

- Установить зависимости
`pip install -r requirements.txt`

- Запуск API для проверки
    1. Зайти в корневую директорию
    2. Либо запустить файл main.py напрямую либо выполнить в терминале команду `python src/main.py`


- Запуск бота для проекта
    1. Через API создать пользователя со своим TelegramID, чтобы занести его в Whitelist (иммитируем регистрацию в сервисе)
    2. Зайти в корневую директорию
    3. Либо запустить файл bot.py напрямую либо выполнить в терминале команду `python src/bot.py`
    4. В Telegram найти бота - @new_imei_checker_bot
    6. Запустить через команду /start (Если TelegramID не будет в базе данных, то вылетит ошибка)
    5. После получения сообщения - введите IMEI устройства для проверки, можно вводить разные подряд один за другим


Отдельно отмечу, что осознанно не применял python-dotenv с .env файлом, для простоты проверки работы сервиса.


## Эндпоинты
1. Эндпоинт для создания пользователя - `http://127.0.0.1:8000/api/create_user`
Пример запроса без telegram_id:
```
{
    "username": "John"
}
```

Пример запроса с telegram_id:
```
{
    "username": "John",
    "telegram_id": <сюда вставить Telegram ID для работы>
}
```

2. Эндпоинт для получения тоекна = `http://127.0.0.1:8000/api/get_token`
Пример запроса:
```
{
    "username": "John"
}
```

3. Эндпоинт для проверки устройства по IMEI - `http://127.0.0.1:8000/api/check-imei`
Пример запроса:
```
{
  "imei": "350805486317462",
  "token": "<здесь долежн быть токен получаемый при регистрации>"
}
```